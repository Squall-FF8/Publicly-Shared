////////////////////////////////////////////
// New program created in 28.10.2022}
////////////////////////////////////////////
program Journey;
uses Commodore64;

var
  adr_ScreenFrameColor: byte @53280; 
  adr_ScreenBackgroundColor: byte @53281; 
  adr_ScreenCharVal: array [1000] of byte @1024;
  adr_ScreenCharColor: array [1000] of byte @55296;
	adr_Charset: byte @53272;
	adr_Screenmode: byte @53270;
	adr_Char01: byte @53282;
	adr_Char10: byte @53283;
  adr_CustomCharset: array [1576] of byte @14336;
  i, j,  k: word;
  
  m_char_x: byte;
  m_char_y: byte;
  c_map_width: byte;
  c_map_height: byte;
  m_map_x: byte;
  m_map_y: byte;
  map: ^byte;

  adr_Display: array [1000] of byte @$D000;	// START OF DISPLAY CHIP
  adr_Sprite2: byte @2042;
  adr_Sprite2_Data: array [69] of byte @832;
  adr_Sprite2_Info: byte @53289;
  sprite: array [] of byte = 
  (
	  $00, $18, $00,	$02, $3C, $00,	$02, $3C, $00,	$02, $18, $00,
	  $02, $17, $C0,	$02, $35, $40,	$07, $76, $C0,	$02, $B5, $40,
	  $01, $36, $C0,	$00, $3B, $80,	$00, $3D, $00,	$00, $66, $00,
	  $00, $C3, $00,	$00, $81, $00,	$00, $81, $00,	$01, $81, $80,
	  $00, $00, $00,	$00, $00, $00,	$00, $00, $00,	$00, $00, $00,
	  $00, $00, $00,	$00, $00, $00,	$00, $00, $00
  );

  map_world: array [1003] of byte = 
  (
	  $25, $1B, $07, $08,
	  $00, $01, $02, $01, $00, $01, $00, $00, $04, $04, $04, $04, $04, $04, $04, $04, $04, $00, $00, $00, $00, $02, $02, $01, $00, $01, $01, $02, $02, $00, $01, $00, $02, $00, $02, $00, $01, 
	  $02, $02, $00, $00, $02, $02, $01, $00, $04, $80, $00, $03, $06, $03, $00, $00, $04, $00, $00, $02, $02, $01, $01, $02, $00, $01, $02, $01, $02, $01, $02, $01, $00, $01, $01, $02, $02, 
	  $01, $01, $02, $02, $01, $01, $02, $01, $04, $03, $03, $03, $06, $03, $03, $03, $04, $00, $00, $01, $01, $02, $01, $02, $01, $02, $00, $02, $01, $02, $00, $00, $01, $02, $00, $01, $01, 
	  $00, $02, $01, $01, $02, $01, $02, $00, $04, $07, $07, $07, $05, $07, $07, $07, $04, $00, $00, $02, $02, $01, $00, $01, $00, $02, $01, $02, $02, $00, $01, $02, $02, $01, $00, $02, $02, 
	  $02, $01, $02, $02, $01, $00, $01, $20, $04, $03, $03, $03, $06, $03, $03, $03, $04, $00, $00, $00, $01, $20, $02, $01, $00, $01, $00, $00, $01, $02, $00, $01, $01, $02, $01, $00, $01, 
	  $01, $02, $00, $01, $20, $02, $01, $02, $04, $00, $00, $03, $06, $03, $00, $00, $04, $00, $00, $20, $02, $00, $01, $20, $01, $00, $00, $00, $00, $00, $00, $02, $02, $01, $00, $02, $00, 
	  $00, $01, $20, $02, $00, $01, $20, $00, $04, $04, $04, $04, $06, $04, $04, $04, $04, $00, $00, $00, $03, $03, $00, $00, $00, $15, $17, $15, $17, $00, $00, $00, $01, $20, $02, $01, $00, 
	  $00, $02, $01, $02, $00, $00, $01, $02, $00, $01, $00, $00, $08, $07, $07, $07, $07, $07, $07, $07, $07, $0F, $03, $00, $00, $00, $15, $16, $1A, $17, $00, $20, $02, $02, $01, $00, $11, 
	  $01, $02, $02, $01, $1D, $1D, $1D, $1D, $03, $00, $03, $03, $06, $1D, $1D, $1D, $04, $11, $10, $10, $12, $06, $15, $17, $18, $20, $00, $19, $16, $17, $15, $17, $00, $02, $00, $00, $10, 
	  $01, $00, $02, $01, $1D, $1D, $1D, $1D, $00, $03, $00, $03, $06, $1D, $1D, $1D, $00, $10, $10, $10, $10, $06, $04, $19, $1A, $17, $15, $16, $16, $16, $1C, $16, $17, $00, $00, $00, $10, 
	  $01, $02, $01, $00, $1D, $1D, $1D, $1D, $00, $03, $03, $03, $06, $1D, $1D, $1D, $00, $10, $10, $10, $10, $06, $15, $1B, $16, $1C, $1C, $16, $16, $1B, $1C, $17, $00, $00, $00, $11, $10, 
	  $02, $02, $01, $01, $1D, $1D, $1D, $1D, $03, $03, $00, $03, $06, $1D, $1D, $1D, $04, $14, $10, $10, $13, $06, $15, $16, $1B, $1C, $17, $20, $15, $16, $16, $17, $00, $00, $11, $10, $10, 
	  $07, $07, $0A, $07, $07, $07, $07, $07, $07, $07, $07, $07, $05, $07, $07, $07, $07, $0A, $07, $07, $07, $0B, $07, $07, $07, $07, $07, $07, $0F, $00, $15, $17, $00, $00, $10, $10, $10, 
	  $20, $00, $06, $00, $15, $16, $17, $1D, $1D, $1D, $1D, $1D, $06, $01, $01, $01, $01, $06, $20, $00, $00, $00, $00, $00, $20, $00, $20, $00, $06, $15, $16, $16, $17, $00, $10, $10, $10, 
	  $00, $20, $06, $00, $00, $20, $00, $00, $15, $16, $17, $1D, $06, $01, $04, $20, $01, $06, $00, $00, $1E, $1E, $1E, $1E, $1E, $20, $00, $20, $06, $15, $17, $20, $00, $11, $10, $10, $10, 
	  $00, $00, $06, $20, $15, $17, $00, $00, $20, $00, $00, $04, $06, $01, $20, $00, $01, $06, $00, $1E, $1E, $1E, $1E, $11, $10, $12, $00, $00, $06, $20, $00, $00, $00, $10, $10, $10, $10, 
	  $20, $00, $06, $00, $20, $00, $03, $20, $04, $00, $00, $20, $06, $01, $01, $00, $01, $06, $00, $1E, $1E, $11, $10, $13, $1E, $14, $12, $20, $06, $00, $00, $00, $11, $10, $10, $10, $10, 
	  $20, $00, $0D, $07, $07, $07, $07, $0F, $03, $20, $00, $00, $08, $07, $07, $07, $07, $0E, $20, $1E, $11, $13, $1E, $1E, $1E, $1E, $14, $12, $06, $20, $11, $10, $10, $10, $13, $14, $10, 
	  $1F, $00, $00, $20, $00, $03, $20, $06, $03, $15, $17, $00, $06, $01, $01, $02, $02, $00, $1E, $1E, $10, $1E, $1E, $1E, $1E, $04, $04, $14, $21, $10, $13, $14, $10, $10, $00, $02, $14, 
	  $1F, $1F, $1F, $00, $00, $20, $03, $06, $00, $20, $00, $00, $06, $01, $02, $01, $02, $01, $02, $11, $13, $1E, $00, $04, $00, $20, $04, $00, $06, $00, $20, $00, $10, $10, $00, $03, $00, 
	  $1F, $1F, $1F, $1F, $1F, $00, $00, $06, $03, $00, $04, $00, $06, $02, $01, $02, $01, $00, $11, $13, $02, $01, $00, $04, $04, $20, $04, $20, $06, $00, $00, $20, $10, $10, $12, $00, $11, 
	  $1F, $1F, $1F, $1F, $1F, $1F, $00, $06, $15, $17, $00, $20, $06, $02, $01, $02, $02, $00, $00, $02, $02, $01, $00, $00, $04, $20, $00, $04, $06, $03, $03, $00, $14, $10, $10, $10, $10, 
	  $1F, $1F, $1F, $1F, $1F, $1F, $1F, $0D, $07, $07, $07, $07, $09, $01, $02, $01, $01, $02, $02, $01, $01, $02, $01, $20, $04, $00, $04, $03, $06, $00, $00, $03, $00, $10, $10, $10, $10, 
	  $1F, $1F, $1F, $1F, $1F, $1F, $1F, $00, $20, $00, $02, $20, $06, $00, $02, $00, $02, $01, $01, $02, $01, $02, $00, $00, $04, $00, $04, $03, $06, $02, $00, $00, $00, $10, $10, $10, $10, 
	  $1F, $11, $12, $1F, $1F, $1F, $1F, $1F, $00, $00, $01, $01, $06, $02, $01, $02, $01, $02, $02, $01, $00, $01, $20, $00, $04, $00, $20, $04, $06, $00, $00, $03, $20, $14, $10, $10, $10, 
	  $1F, $14, $13, $1F, $1F, $1F, $1F, $1F, $00, $00, $00, $02, $06, $01, $02, $01, $02, $00, $01, $20, $02, $01, $00, $00, $04, $04, $00, $04, $06, $03, $03, $00, $00, $00, $10, $10, $10, 
	  $1F, $1F, $1F, $1F, $1F, $1F, $1F, $1F, $1F, $00, $00, $00, $06, $00, $02, $00, $01, $20, $02, $00, $01, $20, $00, $00, $00, $00, $00, $04, $06, $00, $00, $20, $00, $00, $14, $10, $10
  );
  
charset: array [1576] of byte = 
(	
	//0x00 - 0x1F (Standardzeichensatz)
	$3C, $66, $6E, $6E, $60, $62, $3C, $00, 
	$00, $00, $3C, $06, $3E, $66, $3E, $00,
	$00, $60, $60, $7C, $66, $66, $7C, $00,
	$00, $00, $3C, $60, $60, $60, $3C, $00,
	$00, $06, $06, $3E, $66, $66, $3E, $00,
	$00, $00, $3C, $66, $7E, $60, $3C, $00,
	$00, $0E, $18, $3E, $18, $18, $18, $00,
	$00, $00, $3E, $66, $66, $3E, $06, $7C,

	$00, $60, $60, $7C, $66, $66, $66, $00,
	$00, $18, $00, $38, $18, $18, $3C, $00,
	$00, $06, $00, $06, $06, $06, $06, $3C,
	$00, $60, $60, $6C, $78, $6C, $66, $00,
	$00, $38, $18, $18, $18, $18, $3C, $00,
	$00, $00, $66, $7F, $7F, $6B, $63, $00,
	$00, $00, $7C, $66, $66, $66, $66, $00,
	$00, $00, $3C, $66, $66, $66, $3C, $00,

	$00, $00, $7C, $66, $66, $7C, $60, $60,
	$00, $00, $3E, $66, $66, $3E, $06, $06,
	$00, $00, $7C, $66, $60, $60, $60, $00,
	$00, $00, $3E, $60, $3C, $06, $7C, $00,
	$00, $18, $7E, $18, $18, $18, $0E, $00,
	$00, $00, $66, $66, $66, $66, $3E, $00,
	$00, $00, $66, $66, $66, $3C, $18, $00,
	$00, $00, $63, $6B, $7F, $3E, $36, $00,

	$00, $00, $66, $3C, $18, $3C, $66, $00,
	$00, $00, $66, $66, $66, $3E, $0C, $78,
	$00, $00, $7E, $0C, $18, $30, $7E, $00,
	$3C, $30, $30, $30, $30, $30, $3C, $00,
	$0C, $12, $30, $7C, $30, $62, $FC, $00,
	$3C, $0C, $0C, $0C, $0C, $0C, $3C, $00,
	$00, $18, $3C, $7E, $18, $18, $18, $18,
	$00, $10, $30, $7F, $7F, $30, $10, $00,

	//$20-$3F  (Standardzeichensatz)
	$00, $00, $00, $00, $00, $00, $00, $00,
	$18, $18, $18, $18, $00, $00, $18, $00,
	$66, $66, $66, $00, $00, $00, $00, $00,
	$66, $66, $FF, $66, $FF, $66, $66, $00,
	$18, $3E, $60, $3C, $06, $7C, $18, $00,
	$62, $66, $0C, $18, $30, $66, $46, $00,
	$3C, $66, $3C, $38, $67, $66, $3F, $00,
	$06, $0C, $18, $00, $00, $00, $00, $00,

	$0C, $18, $30, $30, $30, $18, $0C, $00,
	$30, $18, $0C, $0C, $0C, $18, $30, $00,
	$00, $66, $3C, $FF, $3C, $66, $00, $00,
	$00, $18, $18, $7E, $18, $18, $00, $00,
	$00, $00, $00, $00, $00, $18, $18, $30,
	$00, $00, $00, $7E, $00, $00, $00, $00,
	$00, $00, $00, $00, $00, $18, $18, $00,
	$00, $03, $06, $0C, $18, $30, $60, $00,

	$3C, $66, $6E, $76, $66, $66, $3C, $00,
	$18, $18, $38, $18, $18, $18, $7E, $00,
	$3C, $66, $06, $0C, $30, $60, $7E, $00,
	$3C, $66, $06, $1C, $06, $66, $3C, $00,
	$06, $0E, $1E, $66, $7F, $06, $06, $00,
	$7E, $60, $7C, $06, $06, $66, $3C, $00,
	$3C, $66, $60, $7C, $66, $66, $3C, $00,
	$7E, $66, $0C, $18, $18, $18, $18, $00,

	$3C, $66, $66, $3C, $66, $66, $3C, $00,
	$3C, $66, $66, $3E, $06, $66, $3C, $00,
	$00, $00, $18, $00, $00, $18, $00, $00,
	$00, $00, $18, $00, $00, $18, $18, $30,
	$0E, $18, $30, $60, $30, $18, $0E, $00,
	$00, $00, $7E, $00, $7E, $00, $00, $00,
	$70, $18, $0C, $06, $0C, $18, $70, $00,
	$3C, $66, $06, $0C, $18, $00, $18, $00,

	//$40-$5A (Standardzeichensatz)
	$00, $00, $00, $FF, $FF, $00, $00, $00,
	$18, $3C, $66, $7E, $66, $66, $66, $00,
	$7C, $66, $66, $7C, $66, $66, $7C, $00,
	$3C, $66, $60, $60, $60, $66, $3C, $00,
	$78, $6C, $66, $66, $66, $6C, $78, $00,
	$7E, $60, $60, $78, $60, $60, $7E, $00,
	$7E, $60, $60, $78, $60, $60, $60, $00,
	$3C, $66, $60, $6E, $66, $66, $3C, $00,

	$66, $66, $66, $7E, $66, $66, $66, $00,
	$3C, $18, $18, $18, $18, $18, $3C, $00,
	$1E, $0C, $0C, $0C, $0C, $6C, $38, $00,
	$66, $6C, $78, $70, $78, $6C, $66, $00,
	$60, $60, $60, $60, $60, $60, $7E, $00,
	$63, $77, $7F, $6B, $63, $63, $63, $00,
	$66, $76, $7E, $7E, $6E, $66, $66, $00,
	$3C, $66, $66, $66, $66, $66, $3C, $00,

	$7C, $66, $66, $7C, $60, $60, $60, $00,
	$3C, $66, $66, $66, $66, $3C, $0E, $00,
	$7C, $66, $66, $7C, $78, $6C, $66, $00,
	$3C, $66, $60, $3C, $06, $66, $3C, $00,
	$7E, $18, $18, $18, $18, $18, $18, $00,
	$66, $66, $66, $66, $66, $66, $3C, $00,
	$66, $66, $66, $66, $66, $3C, $18, $00,
	$63, $63, $63, $6B, $7F, $77, $63, $00,

	$66, $66, $3C, $18, $3C, $66, $66, $00,
	$66, $66, $66, $3C, $18, $18, $18, $00,
	$7E, $06, $0C, $18, $30, $60, $7E, $00, 
	
	//$5B-$7F (Unbenutzt)
	$18, $18, $18, $FF, $FF, $18, $18, $18,
	$C0, $C0, $30, $30, $C0, $C0, $30, $30, 
	$18, $18, $18, $18, $18, $18, $18, $18, 
	$33, $33, $CC, $CC, $33, $33, $CC, $CC, 
	$33, $99, $CC, $66, $33, $99, $CC, $66, 

	$00, $00, $00, $00, $00, $00, $00, $00,
	$F0, $F0, $F0, $F0, $F0, $F0, $F0, $F0,
	$00, $00, $00, $00, $FF, $FF, $FF, $FF,
	$FF, $00, $00, $00, $00, $00, $00, $00,
	$00, $00, $00, $00, $00, $00, $00, $FF,
	$C0, $C0, $C0, $C0, $C0, $C0, $C0, $C0,
	$CC, $CC, $33, $33, $CC, $CC, $33, $33,
	$03, $03, $03, $03, $03, $03, $03, $03,

	$00, $00, $00, $00, $CC, $CC, $33, $33,
	$CC, $99, $33, $66, $CC, $99, $33, $66,
	$03, $03, $03, $03, $03, $03, $03, $03,
	$18, $18, $18, $1F, $1F, $18, $18, $18,
	$00, $00, $00, $00, $0F, $0F, $0F, $0F,
	$18, $18, $18, $1F, $1F, $00, $00, $00,
	$00, $00, $00, $F8, $F8, $18, $18, $18,
	$00, $00, $00, $00, $00, $00, $FF, $FF,

	$00, $00, $00, $1F, $1F, $18, $18, $18,
	$18, $18, $18, $FF, $FF, $00, $00, $00,
	$00, $00, $00, $FF, $FF, $18, $18, $18,
	$18, $18, $18, $F8, $F8, $18, $18, $18,
	$C0, $C0, $C0, $C0, $C0, $C0, $C0, $C0,
	$E0, $E0, $E0, $E0, $E0, $E0, $E0, $E0,
	$07, $07, $07, $07, $07, $07, $07, $07,
	$FF, $FF, $00, $00, $00, $00, $00, $00,

	$FF, $FF, $FF, $00, $00, $00, $00, $00,
	$00, $00, $00, $00, $00, $FF, $FF, $FF,
	$01, $03, $06, $6C, $78, $70, $60, $00,
	$00, $00, $00, $00, $F0, $F0, $F0, $F0,
	$0F, $0F, $0F, $0F, $00, $00, $00, $00,
	$18, $18, $18, $F8, $F8, $00, $00, $00,
	$F0, $F0, $F0, $F0, $00, $00, $00, $00,
	$F0, $F0, $F0, $F0, $0F, $0F, $0F, $0F,

	//$80-$9F (Selbstdefinierte Grafikzeichen)
	$00, $00, $00, $00, $30, $33, $33, $0C,
	$00, $00, $00, $00, $00, $00, $00, $00,
	$C0, $CC, $CC, $30, $00, $00, $00, $00,
	$00, $00, $00, $00, $00, $00, $03, $00,
	$00, $00, $3C, $FF, $3C, $FF, $FF, $FF,
	$C0, $CC, $CC, $30, $00, $00, $C0, $00,
	$00, $03, $0F, $03, $03, $0F, $3F, $00,
	$FF, $FF, $FF, $FF, $FF, $FF, $FF, $D7,

	$00, $C0, $F0, $C0, $C0, $F0, $FC, $00,
	$14, $14, $14, $14, $14, $55, $45, $00,
	$00, $00, $00, $00, $03, $0F, $0F, $3F,
	$00, $00, $00, $FF, $FF, $7F, $FF, $FF,
	$00, $00, $00, $00, $C0, $F0, $F0, $FC,
	$3F, $37, $3F, $3F, $0F, $03, $00, $00,
	$FD, $FF, $FF, $7F, $FF, $FF, $FF, $14,
	$FC, $FC, $FC, $FC, $70, $C0, $00, $00,

	$04, $04, $05, $07, $1F, $7F, $3F, $3F,
	$14, $7D, $FF, $D7, $D7, $D7, $FF, $FF,
	$00, $00, $40, $D0, $F4, $FD, $FC, $FC,
	$3F, $3F, $3D, $3D, $3D, $3D, $3F, $3F,
	$FF, $FF, $7F, $7F, $7F, $7F, $FF, $FF,
	$FC, $FC, $5C, $5C, $5C, $5C, $5C, $5C,
	$00, $00, $00, $00, $00, $00, $00, $0A,
	$00, $00, $00, $00, $00, $28, $AA, $AE,

	$0A, $2A, $2A, $AE, $AA, $AA, $2B, $0A,
	$AA, $BA, $AA, $AA, $AA, $BE, $AA, $AA,
	$80, $80, $A0, $E0, $A0, $A0, $A0, $00,
	$00, $00, $00, $00, $00, $01, $01, $05,
	$55, $56, $75, $55, $95, $55, $5D, $55,
	$C0, $CC, $CC, $30, $00, $40, $40, $50,
	$C5, $CD, $CD, $30, $00, $00, $00, $00,
	$50, $40, $40, $00, $00, $00, $00, $00,

	//$A0-$BF (Selbstdefinierte Grafikzeichen)
	$FF, $FF, $FF, $FF, $FF, $FF, $FF, $FF, 
	$FF, $FF, $FF, $FF, $FF, $FF, $EF, $BB,
	$FF, $FB, $EE, $FF, $FF, $FF, $FF, $FF,
	$01, $03, $07, $0F, $1F, $3F, $7F, $FF,
	$40, $C0, $D0, $F0, $F4, $FC, $FD, $FF,
	$FF, $FD, $FC, $F4, $F0, $D0, $C0, $40,
	$FF, $7F, $3F, $1F, $0F, $07, $03, $01,
	$02, $02, $0A, $0A, $0A, $2A, $2A, $AA,

	$AA, $AA, $AA, $AA, $AA, $AA, $AA, $AA,
	$AE, $AA, $AE, $AA, $BA, $AA, $EA, $AA,
	$AA, $AA, $AA, $AA, $AA, $AA, $AE, $AA,
	$BA, $AA, $EB, $AA, $EB, $AA, $AE, $AA,
	$80, $80, $A0, $A0, $A0, $A8, $A8, $AA,
	$00, $00, $00, $00, $00, $3C, $3F, $FF,
	$03, $03, $0A, $0B, $0B, $2F, $2E, $BA,
	$FF, $FF, $FF, $FB, $FE, $AE, $AE, $AB,

	$C0, $C0, $E0, $E0, $F0, $E8, $B8, $AA,
	$AA, $AA, $AA, $AA, $96, $BD, $7D, $FF,
	$A9, $A7, $A6, $AB, $9B, $AF, $6E, $BA,
	$6A, $DA, $EA, $E6, $F6, $EA, $B9, $AA,
	$A9, $A9, $A6, $A6, $A6, $9A, $9A, $6A,
	$6A, $6A, $9A, $9A, $9A, $A6, $A6, $A9,
	$55, $55, $75, $75, $75, $75, $75, $55,
	$D5, $D5, $D5, $DD, $DD, $DD, $5D, $5D,

	$D5, $DD, $DD, $DD, $DD, $DD, $5D, $55,
	$00, $3C, $00, $00, $03, $00, $F0, $00,
	$F0, $00, $30, $00, $00, $0C, $00, $C0,
	$0C, $C0, $00, $03, $0F, $00, $00, $C0,
	$FF, $7F, $FF, $F7, $FF, $FF, $FF, $DF,
	$FD, $FF, $FF, $7F, $FF, $F7, $FF, $FF,
	$00, $00, $C0, $33, $3C, $3C, $3C, $00,
	$66, $A9, $AA, $A9, $66, $9A, $AA, $9A,

	//$C0-$C4 (Selbstdefinierte Grafikzeichen)
	$00, $00, $01, $83, $81, $80, $83, $8F, 
	$00, $00, $D0, $70, $D0, $C0, $F0, $F0,
	$8F, $8F, $B3, $C1, $81, $01, $01, $05, 
	$F0, $F0, $F0, $50, $10, $10, $10, $14,
	$E4, $B1, $1E, $4B, $E4, $B1, $1E, $4B

	//$C5-$FF (Unbenutzt)
);

tileset: array [315] of byte = 
(
	$80, $81, $82, $81, $81, $81, $81, $82, $81, 
	$83, $84, $85, $86, $87, $88, $81, $89, $81, 
	$8A, $8B, $8C, $8D, $8E, $8F, $81, $89, $81, 
	$81, $81, $82, $90, $91, $92, $93, $94, $95, 
	$80, $81, $82, $96, $97, $81, $98, $99, $9A, 
	$9B, $9C, $9D, $9C, $9C, $9C, $9E, $9C, $9F, 
	$80, $9C, $81, $81, $9C, $80, $81, $9C, $81, 
	$80, $81, $82, $9C, $9C, $9C, $82, $81, $81, 
	$80, $9C, $9D, $81, $9C, $9C, $81, $9C, $9F, 
	$9B, $9C, $81, $9C, $9C, $80, $9E, $9C, $81, 

	$80, $81, $82, $9C, $9C, $9C, $9E, $9C, $9F, 
	$9B, $9C, $9D, $9C, $9C, $9C, $82, $81, $81, 
	$80, $81, $82, $81, $9C, $9C, $81, $9C, $9F, 
	$80, $9C, $9D, $81, $9C, $9C, $81, $81, $81, 
	$9B, $9C, $81, $9C, $9C, $80, $82, $81, $81, 
	$80, $81, $82, $9C, $9C, $80, $9E, $9C, $81, 
	$a0, $a1, $a0, $a1, $a0, $a2, $a0, $a0, $a0, 
	$80, $81, $a3, $81, $a3, $a2, $a3, $a0, $a0, 
	$a4, $81, $82, $a1, $a4, $81, $a0, $a0, $a4, 
	$a0, $a1, $a5, $a1, $a5, $81, $a5, $81, $81, 

	$a6, $a1, $a0, $81, $a6, $a2, $81, $82, $a6, 
	$80, $81, $a7, $81, $a7, $a8, $a7, $a9, $a8, 
	$a8, $aA, $aB, $aB, $a8, $a9, $a9, $a8, $a8, 
	$aC, $81, $82, $aB, $aC, $81, $a9, $a8, $aC, 
	$80, $81, $82, $81, $aD, $81, $aE, $aF, $b0, 
	$80, $81, $aE, $81, $a7, $a8, $a7, $a9, $a8, 
	$a8, $aA, $aB, $aB, $b1, $a9, $b2, $aF, $b3, 
	$a8, $a8, $b4, $aB, $b4, $a8, $b4, $a9, $a8, 
	$b5, $a8, $aA, $aB, $b5, $a8, $a9, $a8, $b5, 
	$b6, $b7, $b8, $b8, $b6, $b7, $b7, $b8, $b6, 

	$b9, $bA, $bB, $bB, $b9, $bA, $bA, $bB, $b9, 
	$bC, $bD, $bC, $bD, $bD, $bC, $bC, $bC, $bD, 
	$bE, $81, $bE, $81, $81, $bE, $81, $bE, $81, 
	$a0, $9C, $a2, $a1, $9C, $a0, $a0, $9C, $a1, 
	$80, $81, $82, $bF, $bF, $bF, $82, $81, $81
);


colorset: array [197] of byte = 
(
	//$00 - $5A (Standardzeichensatz)
	$00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, 
	$00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, 
	$00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, 
	$00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, 
	$00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, 
	$00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, 
	
	//$5B-$7F (Unbenutzt)
	$00, $00, $00, $00, $00, 
	$00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, 
	$00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, 

	//$80-$C4 (Selbstdefinierte Grafikzeichen)
	$0D, $00, $0D, $2D, $2D, $2D, $2D, $2D, $2D, $2D, $2D, $2D, $2D, $2D, $2D, $2D, 
	$3F, $3F, $3F, $3F, $3F, $3F, $0D, $68, $68, $69, $68, $0D, $4A, $0D, $0D, $0D, 
	$5E, $5E, $5E, $5E, $5E, $5E, $5E, $68, $68, $68, $68, $68, $68, $69, $69, $69, 
	$69, $69, $69, $69, $69, $68, $7F, $7F, $7F, $8E, $8E, $8E, $9F, $9F, $0D, $0D,
	$4A, $4A, $4A, $4A, $0E

	//$CB-$FF (Unbenutzt)
);
  
  
procedure Init_Hero;
begin
	adr_Display[21]:=4; 			// ENABLE SPRITE 2
	adr_Sprite2:=13;   				// SPRITE 2 DATA FROM 13TH BLK
	for i:= 0 to word(68) do
		adr_Sprite2_Data[i]:=sprite[i];
	end;
	adr_Sprite2_Info:=240;
end; 

procedure Show_Hero;
begin
	adr_Display[4]:= (m_char_x + 32); 		// UPDATE X COORDINATES
	adr_Display[5]:= (m_char_y + 60); 		// UPDATE X COORDINATES
end; 

procedure install_charset;
begin
	adr_Charset:=30;	              				//Custom Charset bei 0x3000
	adr_Screenmode:=adr_Screenmode or 16;		//Multicolor Textmodus aktivieren
	adr_ScreenFrameColor:=0; 	      				//schwarz für die Rahmenfarbe
	adr_ScreenBackgroundColor:=13; 					//hellgrün für die Hintergrundfarbe
	adr_Char01:=9;           					      //schwarz für %01 im Zeichen
	adr_Char10:=15; 				              	//weiß für %10 im Zeichen
	
	for i := 0 to 1575 do
		adr_CustomCharset[i]:=charset[i]; 
	end;
end;

procedure draw_frames;
begin
	for i := 0 to word(39) do
    adr_ScreenCharVal[i]:= $C4;
  end;
  
	i := 40;
	repeat 
		adr_ScreenCharVal[i]:=$C4;
    i:=i+40;
  until i>961; 

	for i := 881 to 918 do
    adr_ScreenCharVal[i]:= $C4;
  end;
	for i := 961 to 998 do
    adr_ScreenCharVal[i]:= $C4;
  end;

	i := 65;
	repeat 
		adr_ScreenCharVal[i]:=$C4;
    i:=i+40;
  until i>926; 

	i := 79;
	repeat 
		adr_ScreenCharVal[i]:=$C4;
    i:=i+40;
  until i>1000; 

	for i := 266 to 278 do
    adr_ScreenCharVal[i]:= $C4;
  end;
	for i := 468 to 476 do
    adr_ScreenCharVal[i]:= $C4;
  end;
	for i := 668 to 676 do
    adr_ScreenCharVal[i]:= $C4;
  end;

	i := 307;
	repeat 
		adr_ScreenCharVal[i]:=$C4;
    i:=i+40;
  until i>868; 
	i := 306;
	repeat 
		adr_ScreenCharVal[i]:=$C4;
		adr_ScreenCharColor[i]:=$02;
    i:=i+40;
  until i>867; 

	i := 317;
	repeat 
		adr_ScreenCharVal[i]:=$C4;
    i:=i+40;
  until i>878; 
	i := 318;
	repeat 
		adr_ScreenCharVal[i]:=$C4;
		adr_ScreenCharColor[i]:=$06;
    i:=i+40;
  until i>879; 
  
	i := 312;
	repeat 
		adr_ScreenCharVal[i]:=$C4;
    i:=i+40;
  until i>433; 
	i := 512;
	repeat 
		adr_ScreenCharVal[i]:=$C4;
    i:=i+40;
  until i>633; 

  adr_ScreenCharVal[106]:=20;
  adr_ScreenCharColor[106]:=0;
  adr_ScreenCharVal[107]:=8;
  adr_ScreenCharColor[107]:=0;
  adr_ScreenCharVal[108]:=5;
  adr_ScreenCharColor[108]:=0;

  adr_ScreenCharVal[188]:=10;
  adr_ScreenCharColor[188]:=0;
  adr_ScreenCharVal[189]:=15;
  adr_ScreenCharColor[189]:=0;
  adr_ScreenCharVal[190]:=21;
  adr_ScreenCharColor[190]:=0;
  adr_ScreenCharVal[191]:=18;
  adr_ScreenCharColor[191]:=0;
  adr_ScreenCharVal[192]:=14;
  adr_ScreenCharColor[192]:=0;
  adr_ScreenCharVal[193]:=5;
  adr_ScreenCharColor[193]:=0;
  adr_ScreenCharVal[194]:=25;
  adr_ScreenCharColor[194]:=0;
end;

procedure draw_char(parm_coord:word; parm_char:byte);
begin
  adr_ScreenCharVal[parm_coord]:=parm_char;
  adr_ScreenCharColor[parm_coord]:=colorset[parm_char];
end;

procedure draw_tileset(parm_coord:word; offset:byte);
var 
  mul:byte;
  erg:word;
begin
  erg:=0;
  for mul:=0 to offset do
    erg:=erg+35;
  end;
  
	draw_char(41 + parm_coord, tileset[erg]);
	draw_char(42 + parm_coord, tileset[erg+1]);
	draw_char(43 + parm_coord, tileset[erg+2]);
	draw_char(81 + parm_coord, tileset[erg+3]);
	draw_char(82 + parm_coord, tileset[erg+4]);
	draw_char(83 + parm_coord, tileset[erg+5]);
	draw_char(121 + parm_coord, tileset[erg+6]);
	draw_char(122 + parm_coord, tileset[erg+7]);
	draw_char(123 + parm_coord, tileset[erg+8]);
end;


procedure show_map;
var
  coord:word;
begin
  coord:=0;
	k := m_map_y * c_map_width;

	for i:=0 to 6 do
		for j:=0 to word(7) do
			draw_tileset(coord, map_world[k + (j + m_map_x)] and $7F);
			coord := coord + 3;
		end;
		coord := coord + 96;
		k := k + c_map_width;
	end;
	Show_Hero;
end;

procedure init;
begin
  m_char_x:=72; // 3 * 24
  m_char_y:=72;  // 3 * 24
  Init_Hero;

	c_map_width := map_world[0];
	c_map_height := map_world[1];
	m_map_x := map_world[2];
	m_map_y := map_world[3];
	map := @map_world[4];

	clrscr();
	install_charset();
	draw_frames();
	show_map();
end;
 
begin
  Init;

  while true do
  end; 
end.
